

一、今天课程重点
1.1商品详情页业务完事
1.2商品购买成功以后，相应的购物成功页面业务
1.3购物车业务完成部分*****



二、完成商品详情购物商品个数业务？
注意:用户购买商品的个数，最少是一个【默认就是1】

2.1对于商品个数操作【+、-按钮很简单】,商品个数用户可以手动输入?

豪哥提醒:以后项目当中凡是有表单元素的地方，需要用户输入的。【多多思考】
解决问题:用户输入内容 * 1




2.2加入购物车的业务

第一步:把加入购物车成功的路由配好

第二步:点击加入购物车按钮需要做哪些事情?
当用户点击加入购物车按钮的时候，需要向服务器发请求【需要让服务器把当前用户的商品存储于服务器数据】
将来用户的购物车需要展示。

当用户加入购物车请求成功、进行路由跳转
当用户加入购物车请求失败、弹出加入购物车失败

加入购物车|修改商品个数接口:
请求地址:/api/cart/addToCart/{ skuId }/{ skuNum }
请求方式:POST


第三步:用户加入购车成功->进行路由跳转
       用户加入购物车失败->给用户弹出警告框提示信息




三、完整加入购物车成功展示商品的业务?

对于加入购物车成功的页面:商品的个数很好展示【query参数】

第一种想法：利用Vuex获取商品的数据,行不通.
对于详情页商品的信息数据(vuex),加入购物车路由组件也可以使用（没问题：可以展示），
就怕用户刷新，用户一刷新商品信息数据全部消失?



第二种想法：缓存detail-白扯



第三种想法:正确的写法  浏览器存储功能
本地存储:localStorage
会话存储:sessionStorage
相同点:都可以实现浏览器存储数据功能 ，存储上限都是接近5M左右
不同点:本地存储持久化存储【电脑关闭、网页关闭】、会话存储【并非持久化】






四、搭建购物车路由-开发购物车功能

温馨提示:电商项目避免不了，有购物车功能。购物车是整个前台项目第二个重点?
电商项目:亚马逊、淘宝、京东、多多一定有购物车功能。
思考一个问题:购物车无非，不用的用户展示的数据不同而已。


4.1购物车静态结构问题
调整css让各个项目对齐    删除第三项   15  35  10 17 10 13
把每一个商品的第三个li删除掉,在修改每一个li占的百分比

第一步:写请求函数
第二步：创建购物车小仓库
第三步:发现用户购物车数据获取不到(以后回来进行讲解)
利用本地存储 + 单例模式实现用户唯一识别符


最后的一种写法:vuex【发请求、存储数据】，利用仓库完成!!!!!




大厂面试题:vuex存储数据是不是持久化的?我就想让vuex存储的数据持久化怎么办?
vuex确实并非持久化存储数据，利用本地存储让vuex存储的数据持久化。













