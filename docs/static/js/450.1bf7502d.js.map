{"version":3,"file":"static/js/450.1bf7502d.js","mappings":"yIAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOP,EAAIQ,QAASC,WAAW,YAAYC,YAAY,UAAU,CAACR,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACR,EAAG,MAAM,CAACQ,YAAY,iBAAiB,CAACV,EAAIW,GAAG,UAAUT,EAAG,SAAS,CAACQ,YAAY,sBAAsBE,GAAG,CAAC,MAAQZ,EAAIa,QAAQ,CAACb,EAAIc,GAAG,QAAQ,GAAGZ,EAAG,MAAM,CAACQ,YAAY,eAAe,CAACV,EAAIW,GAAG,YAAY,GAAGT,EAAG,MAAM,CAACQ,YAAY,iBAAiB,CAACV,EAAIW,GAAG,WAAW,MACve,EACGI,EAAkB,GCkBtB,GACAV,KAAAA,SAEAW,MAAAA,CACAR,QAAAA,CAEAS,KAAAA,QAEAC,UAAAA,IAGAC,QAAAA,CACAN,QACA,+BACA,IClC4R,I,UCQxRO,GAAY,OACd,EACArB,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAeK,EAAiB,O,oECnBhC,IAAIrB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACQ,YAAY,QAAQ,CAACR,EAAG,KAAK,CAACF,EAAIc,GAAG,UAAUZ,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACV,EAAIqB,GAAG,GAAGnB,EAAG,MAAM,CAACQ,YAAY,aAAaV,EAAIsB,GAAItB,EAAIuB,cAAc,SAASC,GAAU,OAAOtB,EAAG,KAAK,CAACuB,IAAID,EAASE,GAAGhB,YAAY,aAAa,CAACR,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,QAAQ,CAACyB,MAAM,CAAC,KAAO,WAAW,KAAO,YAAYC,SAAS,CAAC,UAAYJ,EAASK,WAAWjB,GAAG,CAAC,OAAS,SAASkB,GAAQ,OAAO9B,EAAI+B,cAAcP,EAAU,OAAMtB,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,MAAM,CAACyB,MAAM,CAAC,IAAMH,EAASQ,UAAU9B,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAGd,EAAIiC,GAAGT,EAASU,cAAchC,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,OAAO,CAACQ,YAAY,SAAS,CAACV,EAAIc,GAAGd,EAAIiC,GAAGT,EAASW,eAAejC,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,IAAI,CAACQ,YAAY,OAAOiB,MAAM,CAAC,KAAO,sBAAsBf,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAO9B,EAAIoC,aAAa,YAAYZ,EAAU,IAAG,CAACxB,EAAIc,GAAG,OAAOZ,EAAG,QAAQ,CAACQ,YAAY,OAAOiB,MAAM,CAAC,aAAe,MAAM,KAAO,OAAO,OAAS,KAAKC,SAAS,CAAC,MAAQJ,EAASa,QAAQzB,GAAG,CAAC,OAAS,SAASkB,GAAQ,OAAO9B,EAAIoC,aAAa,SAASZ,EAASM,EAAQ,KAAI5B,EAAG,IAAI,CAACQ,YAAY,OAAOiB,MAAM,CAAC,KAAO,sBAAsBf,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAO9B,EAAIoC,aAAa,YAAYZ,EAAU,IAAG,CAACxB,EAAIc,GAAG,SAASZ,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,OAAO,CAACQ,YAAY,OAAO,CAACV,EAAIc,GAAGd,EAAIiC,GAAGT,EAASW,SAASX,EAASa,aAAanC,EAAG,KAAK,CAACQ,YAAY,kBAAkB,CAACR,EAAG,IAAI,CAACQ,YAAY,WAAWiB,MAAM,CAAC,KAAO,gBAAgBf,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAO9B,EAAIsC,oBAAoBd,EAASe,MAAO,IAAG,CAACvC,EAAIc,GAAG,QAAQZ,EAAG,MAAMA,EAAG,IAAI,CAACyB,MAAM,CAAC,KAAO,UAAU,CAAC3B,EAAIc,GAAG,aAAc,IAAE,KAAKZ,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,QAAQ,CAACE,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOP,EAAIwC,SAAU/B,WAAW,aAAaC,YAAY,YAAYiB,MAAM,CAAC,KAAO,YAAYC,SAAS,CAAC,QAAUa,MAAMC,QAAQ1C,EAAIwC,UAAUxC,EAAI2C,GAAG3C,EAAIwC,SAAS,OAAO,EAAGxC,EAAIwC,UAAW5B,GAAG,CAAC,OAAS,SAASkB,GAAQ,IAAIc,EAAI5C,EAAIwC,SAASK,EAAKf,EAAOgB,OAAOC,IAAIF,EAAKG,QAAuB,GAAGP,MAAMC,QAAQE,GAAK,CAAC,IAAIK,EAAI,KAAKC,EAAIlD,EAAI2C,GAAGC,EAAIK,GAAQJ,EAAKG,QAASE,EAAI,IAAIlD,EAAIwC,SAASI,EAAIO,OAAO,CAACF,KAAYC,GAAK,IAAIlD,EAAIwC,SAASI,EAAIQ,MAAM,EAAEF,GAAKC,OAAOP,EAAIQ,MAAMF,EAAI,IAAM,MAAKlD,EAAIwC,SAASO,CAAK,KAAI7C,EAAG,OAAO,CAACF,EAAIc,GAAG,UAAUZ,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,IAAI,CAACyB,MAAM,CAAC,KAAO,gBAAgBf,GAAG,CAAC,MAAQZ,EAAIqD,sBAAsB,CAACrD,EAAIc,GAAG,aAAaZ,EAAG,IAAI,CAACyB,MAAM,CAAC,KAAO,UAAU,CAAC3B,EAAIc,GAAG,YAAYZ,EAAG,IAAI,CAACyB,MAAM,CAAC,KAAO,UAAU,CAAC3B,EAAIc,GAAG,cAAcZ,EAAG,MAAM,CAACQ,YAAY,aAAa,CAACR,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACV,EAAIc,GAAG,QAAQZ,EAAG,OAAO,CAACF,EAAIc,GAAGd,EAAIiC,GAAGjC,EAAIsD,kBAAkBtD,EAAIc,GAAG,UAAUZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACR,EAAG,KAAK,CAACF,EAAIc,GAAG,gBAAgBZ,EAAG,IAAI,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAGd,EAAIiC,GAAGjC,EAAIuD,mBAAmBrD,EAAG,MAAM,CAACQ,YAAY,UAAU,CAACR,EAAG,cAAc,CAACQ,YAAY,UAAUiB,MAAM,CAAC,GAAK,WAAW,CAAC3B,EAAIc,GAAG,SAAS,OAAOZ,EAAG,SAAS,CAACyB,MAAM,CAAC,QAAU3B,EAAIQ,SAASI,GAAG,CAAC,iBAAiB,SAASkB,GAAQ9B,EAAIQ,QAAQsB,CAAO,GAAE0B,YAAYxD,EAAIyD,GAAG,CAAC,CAAChC,IAAI,SAASiC,GAAG,WAAW,MAAO,CAAC1D,EAAIc,GAAG,QAAS,EAAC6C,OAAM,GAAM,CAAClC,IAAI,SAASiC,GAAG,WAAW,MAAO,CAACxD,EAAG,MAAM,CAACQ,YAAY,cAAc,CAACR,EAAG,SAAS,CAACQ,YAAY,MAAME,GAAG,CAAC,MAAQ,SAASkB,GAAQ9B,EAAIQ,SAAQ,CAAM,IAAG,CAACR,EAAIc,GAAG,QAAQZ,EAAG,SAAS,CAACQ,YAAY,cAAcE,GAAG,CAAC,MAAQZ,EAAI4D,iBAAiB,CAAC5D,EAAIc,GAAG,UAAW,EAAC6C,OAAM,MAAS,CAAC,CAACzD,EAAG,IAAI,CAACF,EAAIc,GAAG,UAAUZ,EAAG,OAAO,CAAC2D,YAAY,CAAC,MAAQ,QAAQ,CAAC7D,EAAIc,GAAGd,EAAIiC,GAAGjC,EAAI8D,SAAS,KAAK,YAAY9D,EAAIc,GAAG,UAAU,IAAI,EAC5iH,EACGC,EAAkB,CAAC,WAAY,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACQ,YAAY,WAAW,CAACR,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,QAAQZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,QAAQZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,WAAWZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,QAAQZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,WAAWZ,EAAG,MAAM,CAACQ,YAAY,YAAY,CAACV,EAAIc,GAAG,SAClZ,G,6BC2FD,GACAT,KAAAA,WACA0D,WAAAA,CAAAC,OAAAA,EAAAA,GACAC,OACA,OACA1C,aAAAA,GAEAf,SAAAA,EAEA+B,MAAAA,EACAuB,UAAAA,EAEAI,UAAAA,GAEAC,kBAAAA,GACAC,OAAAA,GACAC,IAAAA,EAEA,EACA,gBACA,wBACA,cACAC,QAAAA,IAAAA,GACA,0CAEAA,QAAAA,IAAAA,EAAAA,QAEA,EACAnD,QAAAA,CAEA,uBACA,0BACA,mBAEAK,EAAAA,UAAAA,CACA,EAGAc,oBAAAA,GAGA,gBAEA,aAEA,gBACA,EAGA,kBACA,kBACA,kCACA,cACA,gBACA,uEAEAgC,QAAAA,IAAAA,EAAAA,QAGA,MACA,EAEAjB,sBACA,0BAEA,gBAEA,+BAGA,YACA,6BAEA,8BACA,IAGA,gBACA,EAEA,uBACA,kBACA,kCAOA,YANA,cACA,gBACA,uEAEAiB,QAAAA,IAAAA,EAAAA,SAGA,CACA,sCACA,cACA,gBACA,0CAEAA,QAAAA,IAAAA,EAAAA,QAEA,EAEA,0BACA,SACA,MAAA/B,EAAAA,OAAAF,GAAA,EACA,UACA,gBACA,WACAb,EAAAA,SACA,eACAA,EAAAA,OAAAA,IACA,YAEA,MACA,gBAEA,WACAA,EAAAA,SACA,aACAA,EAAAA,OAAAA,EACA,YAEA,MACA,aACA,qBACA,WACA,cAGA,oBACAA,EAAAA,OAAAA,EACA,QACA,eACAA,EAAAA,OAAAA,MAIA+C,EAAAA,OAAAA,MAAAA,EAEA,MAGA,uCACA,kCAEA,uBACA,2BACA,cACA,WACAD,QAAAA,IAAAA,cAEAA,QAAAA,IAAAA,YACA,GAEA,IAGA,GAGAE,SAAAA,CACAhC,SAAAA,CACAiC,MAEA,oDACA,EACA,aAEA,WACA,YACA,+BACAC,EAAAA,UAAAA,EACAR,EAAAA,KAAAA,EAAAA,MAAAA,IAKA,2BACA,aACAS,MAAAA,UAEAL,QAAAA,IAAAA,UAEA,GAGAhB,gBACA,yDACA,EAEAC,eACA,6EACA,GAEAqB,MAAAA,CACApE,QAAAA,CACAqE,WAAAA,EACAC,UAEA,aACAC,SAAAA,gBAAAA,MAAAA,SAAAA,SAEAA,SAAAA,gBAAAA,MAAAA,SAAAA,MAEA,KCxS4R,I,UCQxR3D,GAAY,OACd,EACArB,EACAgB,GACA,EACA,KACA,WACA,MAIF,EAAeK,EAAiB,O,gICfzB,MAAM4D,EAAY,iBAEZC,EAAiB,kBAEjBC,EAAgB,UAEhBC,EAAkB,yB","sources":["webpack://three/./src/components/Dialog/index.vue","webpack://three/src/components/Dialog/index.vue","webpack://three/./src/components/Dialog/index.vue?8d31","webpack://three/./src/components/Dialog/index.vue?e029","webpack://three/./src/pages/ShopCart/index.vue","webpack://three/src/pages/ShopCart/index.vue","webpack://three/./src/pages/ShopCart/index.vue?bbe5","webpack://three/./src/pages/ShopCart/index.vue?8cfc","webpack://three/./src/utils/reg.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visible),expression:\"visible\"}],staticClass:\"dialog\"},[_c('div',{staticClass:\"dialog-wrap\"},[_c('div',{staticClass:\"dialog-header\"},[_vm._t(\"header\"),_c('button',{staticClass:\"dialog-header-close\",on:{\"click\":_vm.close}},[_vm._v(\"X\")])],2),_c('div',{staticClass:\"dialog-body\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"dialog-footer\"},[_vm._t(\"footer\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!-- 定义v-show绑定的是visibl，shopcart给在data中给了初始值false它不显示点击才会显示 -->\r\n  <div class=\"dialog\" v-show=\"visible\">\r\n    <div class=\"dialog-wrap\">\r\n      <div class=\"dialog-header\">\r\n        <slot name=\"header\" />\r\n        <!-- 增加点击x让弹框关闭 -->\r\n        <button class=\"dialog-header-close\" @click=\"close\">X</button>\r\n      </div>\r\n      <div class=\"dialog-body\">\r\n        <slot></slot>\r\n      </div>\r\n      <div class=\"dialog-footer\">\r\n        <slot name=\"footer\"></slot>\r\n      </div> \r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Dialog',\r\n  //接受shopcart传递过来的visible且给它定义类型\r\n  props: {\r\n    visible: {\r\n      //数据类型\r\n      type: Boolean,\r\n      //必须传\r\n      required: true\r\n    }\r\n  },\r\n  methods: {\r\n    close() {\r\n      this.$emit('update:visible', false);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.dialog {\r\n  // 最外层\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n// 内层水平垂直居中\r\n.dialog-wrap {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  width: 460px;\r\n  height: 230px;\r\n  box-sizing: border-box; // 内减模式\r\n  padding: 20px;\r\n  transform: translate(-50%, -50%);\r\n  background-color: #fff;\r\n}\r\n// 头部\r\n.dialog-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 18px;\r\n  .dialog-header-close {\r\n    border: none; // 去掉边框\r\n    outline: none; // 去掉环绕线\r\n    background-color: transparent; // 透明色\r\n    cursor: pointer;\r\n  }\r\n}\r\n// 中间\r\n.dialog-body {\r\n  text-align: center;\r\n  font-size: 16px;\r\n  // padding: 10px;\r\n}\r\n.btn-footer {\r\n  position: absolute;\r\n  right: 40px;\r\n  bottom: 20px;\r\n  .btn {\r\n    width: 62px;\r\n    height: 32px;\r\n    font-size: 14px;\r\n    margin-left: 16px;\r\n    border-width: 1px;\r\n    border-radius: 10%;\r\n    cursor: pointer;\r\n    &.primary {\r\n      background-color: rgb(102, 177, 255);\r\n      color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7721ecac&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7721ecac&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7721ecac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart\"},[_c('h4',[_vm._v(\"全部商品\")]),_c('div',{staticClass:\"cart-main\"},[_vm._m(0),_c('div',{staticClass:\"cart-body\"},_vm._l((_vm.cartInfoList),function(cartInfo){return _c('ul',{key:cartInfo.id,staticClass:\"cart-list\"},[_c('li',{staticClass:\"cart-list-con1\"},[_c('input',{attrs:{\"type\":\"checkbox\",\"name\":\"chk_list\"},domProps:{\"checked\":!!cartInfo.isChecked},on:{\"change\":function($event){return _vm.checkCartInfo(cartInfo)}}})]),_c('li',{staticClass:\"cart-list-con2\"},[_c('img',{attrs:{\"src\":cartInfo.imgUrl}}),_c('div',{staticClass:\"item-msg\"},[_vm._v(_vm._s(cartInfo.skuName))])]),_c('li',{staticClass:\"cart-list-con4\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(cartInfo.skuPrice))])]),_c('li',{staticClass:\"cart-list-con5\"},[_c('a',{staticClass:\"mins\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.changeSkuNum('decrement',cartInfo)}}},[_vm._v(\"-\")]),_c('input',{staticClass:\"itxt\",attrs:{\"autocomplete\":\"off\",\"type\":\"text\",\"minnum\":\"1\"},domProps:{\"value\":cartInfo.skuNum},on:{\"change\":function($event){return _vm.changeSkuNum('change',cartInfo,$event)}}}),_c('a',{staticClass:\"plus\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.changeSkuNum('increment',cartInfo)}}},[_vm._v(\"+\")])]),_c('li',{staticClass:\"cart-list-con6\"},[_c('span',{staticClass:\"sum\"},[_vm._v(_vm._s(cartInfo.skuPrice*cartInfo.skuNum))])]),_c('li',{staticClass:\"cart-list-con7\"},[_c('a',{staticClass:\"sindelet\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.showDialogByOneInfo(cartInfo.skuId)}}},[_vm._v(\"删除\")]),_c('br'),_c('a',{attrs:{\"href\":\"#none\"}},[_vm._v(\"移到收藏\")])])])}),0)]),_c('div',{staticClass:\"cart-tool\"},[_c('div',{staticClass:\"select-all\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkAll),expression:\"checkAll\"}],staticClass:\"chooseAll\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.checkAll)?_vm._i(_vm.checkAll,null)>-1:(_vm.checkAll)},on:{\"change\":function($event){var $$a=_vm.checkAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.checkAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.checkAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.checkAll=$$c}}}}),_c('span',[_vm._v(\"全选\")])]),_c('div',{staticClass:\"option\"},[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.showDialogBySelectd}},[_vm._v(\"删除选中的商品\")]),_c('a',{attrs:{\"href\":\"#none\"}},[_vm._v(\"移到我的关注\")]),_c('a',{attrs:{\"href\":\"#none\"}},[_vm._v(\"清除下柜商品\")])]),_c('div',{staticClass:\"money-box\"},[_c('div',{staticClass:\"chosed\"},[_vm._v(\"已选择 \"),_c('span',[_vm._v(_vm._s(_vm.selectedCount))]),_vm._v(\"件商品 \")]),_c('div',{staticClass:\"sumprice\"},[_c('em',[_vm._v(\"总价（不含运费） ：\")]),_c('i',{staticClass:\"summoney\"},[_vm._v(_vm._s(_vm.selecteMoney))])]),_c('div',{staticClass:\"sumbtn\"},[_c('router-link',{staticClass:\"sum-btn\",attrs:{\"to\":\"/trade\"}},[_vm._v(\"结算\")])],1)])]),_c('Dialog',{attrs:{\"visible\":_vm.visible},on:{\"update:visible\":function($event){_vm.visible=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_vm._v(\" 提示 \")]},proxy:true},{key:\"footer\",fn:function(){return [_c('div',{staticClass:\"btn-footer\"},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.visible=false}}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn primary\",on:{\"click\":_vm.deleteShopCart}},[_vm._v(\"确认\")])])]},proxy:true}])},[[_c('p',[_vm._v(\"你真的要删除\"),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.isDelOne?\"这条\":\"这些选中的\"))]),_vm._v(\"数据\")])]],2)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart-th\"},[_c('div',{staticClass:\"cart-th1\"},[_vm._v(\"全部\")]),_c('div',{staticClass:\"cart-th2\"},[_vm._v(\"商品\")]),_c('div',{staticClass:\"cart-th3\"},[_vm._v(\"单价（元）\")]),_c('div',{staticClass:\"cart-th4\"},[_vm._v(\"数量\")]),_c('div',{staticClass:\"cart-th5\"},[_vm._v(\"小计（元）\")]),_c('div',{staticClass:\"cart-th6\"},[_vm._v(\"操作\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cart\">\r\n    <h4>全部商品</h4>\r\n    <div class=\"cart-main\">\r\n      <div class=\"cart-th\">\r\n        <div class=\"cart-th1\">全部</div>\r\n        <div class=\"cart-th2\">商品</div>\r\n        <div class=\"cart-th3\">单价（元）</div>\r\n        <div class=\"cart-th4\">数量</div>\r\n        <div class=\"cart-th5\">小计（元）</div>\r\n        <div class=\"cart-th6\">操作</div>\r\n      </div>\r\n      <div class=\"cart-body\">\r\n        <ul class=\"cart-list\" v-for=\"cartInfo in cartInfoList\" :key=\"cartInfo.id\">\r\n          <li class=\"cart-list-con1\">\r\n            <input type=\"checkbox\" name=\"chk_list\" :checked=\"!!cartInfo.isChecked\" @change=\"checkCartInfo(cartInfo)\">\r\n          </li>\r\n          <li class=\"cart-list-con2\">\r\n            <img :src=\"cartInfo.imgUrl\">\r\n            <div class=\"item-msg\">{{cartInfo.skuName}}</div>\r\n          </li>\r\n          <li class=\"cart-list-con4\">\r\n            <span class=\"price\">{{cartInfo.skuPrice}}</span>\r\n          </li>\r\n          <li class=\"cart-list-con5\">\r\n            <a href=\"javascript:void(0)\" class=\"mins\" @click=\"changeSkuNum('decrement',cartInfo)\">-</a>\r\n            <input autocomplete=\"off\" type=\"text\" :value=\"cartInfo.skuNum\" minnum=\"1\" @change=\"changeSkuNum('change',cartInfo,$event)\" class=\"itxt\">\r\n            <a href=\"javascript:void(0)\" class=\"plus\" @click=\"changeSkuNum('increment',cartInfo)\">+</a>\r\n          </li>\r\n          <li class=\"cart-list-con6\">\r\n            <span class=\"sum\">{{cartInfo.skuPrice*cartInfo.skuNum}}</span>\r\n          </li>\r\n          <li class=\"cart-list-con7\">\r\n            <!-- 点击删除按钮显示弹框 -->\r\n            <a href=\"javascript:;\" class=\"sindelet\" @click=\"showDialogByOneInfo(cartInfo.skuId)\">删除</a>\r\n            <br>\r\n            <a href=\"#none\">移到收藏</a>\r\n          </li>\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n    <div class=\"cart-tool\">\r\n      <div class=\"select-all\">\r\n        <input class=\"chooseAll\" type=\"checkbox\" v-model=\"checkAll\" />\r\n        <span>全选</span>\r\n      </div>\r\n      <div class=\"option\">\r\n        <a href=\"javascript:;\" @click=\"showDialogBySelectd\">删除选中的商品</a>\r\n        <a href=\"#none\">移到我的关注</a>\r\n        <a href=\"#none\">清除下柜商品</a>\r\n      </div>\r\n      <div class=\"money-box\">\r\n        <div class=\"chosed\">已选择\r\n          <span>{{selectedCount}}</span>件商品\r\n        </div>\r\n        <div class=\"sumprice\">\r\n          <em>总价（不含运费） ：</em>\r\n          <i class=\"summoney\">{{selecteMoney}}</i>\r\n        </div>\r\n        <div class=\"sumbtn\">\r\n          <router-link to=\"/trade\" class=\"sum-btn\">结算</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 使用Dialog弹框 -->\r\n    <!-- 传递了visible -->\r\n    <Dialog :visible.sync=\"visible\">\r\n      <template v-slot:header>\r\n        提示\r\n      </template>\r\n      <template>\r\n        <p>你真的要删除<span style=\"color:red\">{{isDelOne?\"这条\":\"这些选中的\"}}</span>数据</p>\r\n      </template>\r\n      <template #footer>\r\n        <div class=\"btn-footer\">\r\n          <!-- 点击取消弹框消失 -->\r\n          <button class=\"btn\" @click=\"visible=false\">取消</button>\r\n          <!-- 这个确定即包括点击删除一条数据也包含点击批量删除 ，下面发送请求有-->\r\n          <button class=\"btn primary\" @click=\"deleteShopCart\">确认</button>\r\n\r\n        </div>\r\n\r\n      </template>\r\n    </Dialog>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { reqshopCart, reqDeletOnShop, reqDeletAllShop, reqAddUpdateCart } from '@/api';\r\nimport { reqcheckShopCartInfo, reqAllChangeState } from '@/api';\r\nimport Dialog from '../../components/Dialog';\r\nimport { skuNumReg } from '../../utils/reg';\r\nexport default {\r\n  name: 'ShopCart',\r\n  components: { Dialog },\r\n  data() {\r\n    return {\r\n      cartInfoList: [],\r\n      //给visible初始值\r\n      visible: false,\r\n      //点击删除按钮把id传入设置id的初始值为空\r\n      skuId: 0,\r\n      isDelOne: false,\r\n      //批量删除的id收集初始值\r\n      skuIdList: [],\r\n      //剩余未删除的商品\r\n      leaveCartInfoList: [],\r\n      timeId:'',\r\n      num:0\r\n    };\r\n  },\r\n  async mounted() {\r\n    const result = await reqshopCart();\r\n    if (result.code === 200) {\r\n      console.log(result);\r\n      this.cartInfoList = result.data[0].cartInfoList;\r\n    } else {\r\n      console.log(result.message);\r\n    }\r\n  },\r\n  methods: {\r\n    //checkCartInfo这是绑定input自定义事件\r\n    async checkCartInfo(cartInfo) {\r\n      let isChecked = 1 - cartInfo.isChecked;\r\n      const result = await reqcheckShopCartInfo(cartInfo.skuId, isChecked);\r\n      //更新服务器数据成功后，重新更新页面\r\n      cartInfo.isChecked = isChecked;\r\n    },\r\n    // 2. 删除出弹框一条购物车商品\r\n    // delOneCartInfo(cartInfo) {\r\n    showDialogByOneInfo(skuId) {\r\n      // 在这个函数当中要做的事有:\r\n      // 2.1 弹出对话框\r\n      this.visible = true;\r\n      // 2.2 收集要删除商品的skuId\r\n      this.skuId = skuId;\r\n      //2.3判断是删除一天商品\r\n      this.isDelOne = true;\r\n    },\r\n\r\n    // //删除一条数据\r\n    async deleteOne() {\r\n      if (this.isDelOne) {\r\n        const result = await reqDeletOnShop(this.skuId);\r\n        if (result.code === 200) {\r\n          this.visible = false;\r\n          this.cartInfoList = this.cartInfoList.filter(cartInfo => cartInfo.skuId !== this.skuId);\r\n        } else {\r\n          console.log(result.message);\r\n        }\r\n        return;\r\n      }\r\n    },\r\n    //点击批量删除出弹框\r\n    showDialogBySelectd() {\r\n      this.leaveCartInfoList = [];\r\n      //1.弹出对话框\r\n      this.visible = true;\r\n      //2.收集被选中的商品的id\r\n      this.cartInfoList.forEach(cartInfo => {\r\n        //遍历所有选中或没选中的选择框\r\n        //将选中的id存入skuIdList\r\n        if (cartInfo.isChecked) {\r\n          this.skuIdList.push(cartInfo.skuId);\r\n        } else {\r\n          this.leaveCartInfoList.push(cartInfo);\r\n        }\r\n      });\r\n      //3.区分批量删除\r\n      this.isDelOne = false;\r\n    },\r\n    //真正的批量删除数据,与单条数据删除\r\n    async deleteShopCart() {\r\n      if (this.isDelOne) {\r\n        const result = await reqDeletOnShop(this.skuId);\r\n        if (result.code === 200) {\r\n          this.visible = false;\r\n          this.cartInfoList = this.cartInfoList.filter(cartInfo => cartInfo.skuId !== this.skuId);\r\n        } else {\r\n          console.log(result.message);\r\n        }\r\n        return;\r\n      }\r\n      const result = await reqDeletAllShop(this.skuIdList);\r\n      if (result.code === 200) {\r\n        this.visible = false;\r\n        this.cartInfoList = this.leaveCartInfoList;\r\n      } else {\r\n        console.log(result.message);\r\n      }\r\n    },\r\n    // $event能获取输入框的内容\r\n    async changeSkuNum(type, cartInfo, $event) {\r\n      let num = 0;\r\n      let { skuId,skuNum } = cartInfo;\r\n      switch (type) {\r\n        case 'increment':\r\n          this.num++\r\n          cartInfo.skuNum++\r\n          if (cartInfo.skuNum >200) {\r\n            cartInfo.skuNum=200;\r\n            this.num=0;\r\n          }\r\n          break;\r\n        case 'decrement':\r\n          //减操作\r\n          this.num--\r\n          cartInfo.skuNum--\r\n          if (cartInfo.skuNum <1) {\r\n            cartInfo.skuNum=1;\r\n           this.num=0;\r\n          }\r\n          break;\r\n        case 'change':\r\n          let newSkuNum = $event.target.value;\r\n          let oldNum=cartInfo.skuNum\r\n          if (skuNumReg.test(newSkuNum)) {\r\n            //发给服务器的是你新的数量减原先没点击添加的数量，因为服务器之前存的是你的旧数据\r\n            //加上差值就是正确的数据\r\n            this.num = newSkuNum - cartInfo.skuNum;\r\n            cartInfo.skuNum = newSkuNum;\r\n            if (newSkuNum > 200) {\r\n              this.num = 200 - oldNum;\r\n              cartInfo.skuNum = 200;\r\n            }\r\n          } else {\r\n            // cartInfo.skuNum = 1;\r\n            e.target.value = oldNum;\r\n          }\r\n          break;\r\n      }\r\n      //增加防抖,用增加定时器的方法\r\n      if(this.timeId) clearTimeout(this.timeId)\r\n      this.timeId=setTimeout(async()=>{\r\n         //购物车中没有数据\r\n      if (this.num ===0) return;\r\n      const result = await reqAddUpdateCart(skuId, num);\r\n     if(result.code===200){\r\n      this.num=0\r\n      console.log('更改数据成功...')\r\n     }else{\r\n      console.log('更改数据失败...')\r\n     }\r\n\r\n     },500)\r\n\r\n    \r\n    }\r\n  },\r\n  //对全选做处理\r\n  computed: {\r\n    checkAll: {\r\n      get() {\r\n        //判断一开始传递过来的值是否全部被选中\r\n        return this.cartInfoList.every(cartInfo => cartInfo.isChecked === 1);\r\n      },\r\n      async set(val) {\r\n        //定义数组来存储所有要更新状态的商品skuId\r\n        const skuIdList = [];\r\n        let isChecked = val ? 1 : 0;\r\n        this.cartInfoList.forEach(item => {\r\n          item.isChecked = isChecked;\r\n          skuIdList.push(item.skuId);\r\n          // //去发请求以条条更新\r\n          // this.checkCartInfo({skuId:cartInfo.skuId,isChecked:1-isChecked})\r\n        });\r\n        //批量更新状态\r\n        const result = await reqAllChangeState(isChecked, skuIdList);\r\n        if (result.code === 200) {\r\n          alert('更新成功..');\r\n        } else {\r\n          console.log('更新失败...');\r\n        }\r\n      }\r\n    },\r\n    //已经选中商品的个数\r\n    selectedCount() {\r\n      return this.cartInfoList.reduce((prev, current) => prev + current.isChecked, 0);\r\n    },\r\n    //统计总金额\r\n    selecteMoney() {\r\n      return this.cartInfoList.reduce((prev, current) => prev + current.isChecked * current.skuPrice * current.skuNum, 0);\r\n    }\r\n  },\r\n  watch: {\r\n    visible: {\r\n      immediate: true, //一开始就立即监视\r\n      handler() {\r\n        //加判断, document.documentElemen获取html\r\n        if (this.visible) {\r\n          document.documentElement.style.overflow = 'hidden';\r\n        } else {\r\n          document.documentElement.style.overflow = 'auto';\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.cart {\r\n  width: 1200px;\r\n  margin: 0 auto;\r\n  h4 {\r\n    margin: 9px 0;\r\n    font-size: 14px;\r\n    line-height: 21px;\r\n  }\r\n  .cart-main {\r\n    .cart-th {\r\n      background: #f5f5f5;\r\n      border: 1px solid #ddd;\r\n      padding: 10px;\r\n      overflow: hidden;\r\n      & > div {\r\n        float: left;\r\n      }\r\n      .cart-th1 {\r\n        width: 25%;\r\n        input {\r\n          vertical-align: middle;\r\n        }\r\n        span {\r\n          vertical-align: middle;\r\n        }\r\n      }\r\n      .cart-th2 {\r\n        width: 25%;\r\n      }\r\n      .cart-th3,\r\n      .cart-th4,\r\n      .cart-th5,\r\n      .cart-th6 {\r\n        width: 12.5%;\r\n      }\r\n    }\r\n    .cart-body {\r\n      margin: 15px 0;\r\n      border: 1px solid #ddd;\r\n      .cart-list {\r\n        padding: 10px;\r\n        border-bottom: 1px solid #ddd;\r\n        overflow: hidden;\r\n        & > li {\r\n          float: left;\r\n        }\r\n        .cart-list-con1 {\r\n          width: 15%;\r\n        }\r\n        .cart-list-con2 {\r\n          width: 35%;\r\n          img {\r\n            width: 82px;\r\n            height: 82px;\r\n            float: left;\r\n          }\r\n          .item-msg {\r\n            float: left;\r\n            width: 150px;\r\n            margin: 0 10px;\r\n            line-height: 18px;\r\n          }\r\n        }\r\n        .cart-list-con4 {\r\n          width: 10%;\r\n        }\r\n        .cart-list-con5 {\r\n          width: 17%;\r\n          .mins {\r\n            border: 1px solid #ddd;\r\n            border-right: 0;\r\n            float: left;\r\n            color: #666;\r\n            width: 6px;\r\n            text-align: center;\r\n            padding: 8px;\r\n          }\r\n          input {\r\n            border: 1px solid #ddd;\r\n            width: 40px;\r\n            height: 33px;\r\n            float: left;\r\n            text-align: center;\r\n            font-size: 14px;\r\n          }\r\n\r\n          .plus {\r\n            border: 1px solid #ddd;\r\n            border-left: 0;\r\n            float: left;\r\n            color: #666;\r\n            width: 6px;\r\n            text-align: center;\r\n            padding: 8px;\r\n          }\r\n        }\r\n\r\n        .cart-list-con6 {\r\n          width: 10%;\r\n\r\n          .sum {\r\n            font-size: 16px;\r\n          }\r\n        }\r\n\r\n        .cart-list-con7 {\r\n          width: 13%;\r\n\r\n          a {\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cart-tool {\r\n    overflow: hidden;\r\n    border: 1px solid #ddd;\r\n\r\n    .select-all {\r\n      padding: 10px;\r\n      overflow: hidden;\r\n      float: left;\r\n\r\n      span {\r\n        vertical-align: middle;\r\n      }\r\n\r\n      input {\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n\r\n    .option {\r\n      padding: 10px;\r\n      overflow: hidden;\r\n      float: left;\r\n\r\n      a {\r\n        float: left;\r\n        padding: 0 10px;\r\n        color: #666;\r\n      }\r\n    }\r\n\r\n    .money-box {\r\n      float: right;\r\n\r\n      .chosed {\r\n        line-height: 26px;\r\n        float: left;\r\n        padding: 0 10px;\r\n      }\r\n\r\n      .sumprice {\r\n        width: 200px;\r\n        line-height: 22px;\r\n        float: left;\r\n        padding: 0 10px;\r\n\r\n        .summoney {\r\n          color: #c81623;\r\n          font-size: 16px;\r\n        }\r\n      }\r\n\r\n      .sumbtn {\r\n        float: right;\r\n\r\n        a {\r\n          display: block;\r\n          position: relative;\r\n          width: 96px;\r\n          height: 52px;\r\n          line-height: 52px;\r\n          color: #fff;\r\n          text-align: center;\r\n          font-size: 18px;\r\n          font-family: 'Microsoft YaHei';\r\n          background: #e1251b;\r\n          overflow: hidden;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=54df9cd6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=54df9cd6&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"54df9cd6\",\n  null\n  \n)\n\nexport default component.exports","//用它来判定添加的数量是否符合规则\r\n//  要求： 只能是数字 不能是其它符号 再一个最大值不超过200 最小值是1\r\n//^以什么开头，多个开头规则写成数组[1-A-a-@]意味可以以1，A，a任意一个开头，\\d为必须是数字{6}花括号写的是位数\r\n//写6位$是严格模式\r\nexport const skuNumReg = /^[1-9]\\d{0,2}$/\r\n//验证手机号\r\nexport const phoneNumderReg = /^1[3-578]\\d{9}$/;\r\n//验证码规则\r\nexport const codeNumberReg = /^\\d{6}$/;\r\n//登录密码验证规则\r\nexport const passWordNumberReg=/^[A-Za-z0-9_%#@.]{6,8}$/"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","visible","expression","staticClass","_t","on","close","_v","staticRenderFns","props","type","required","methods","component","_m","_l","cartInfoList","cartInfo","key","id","attrs","domProps","isChecked","$event","checkCartInfo","imgUrl","_s","skuName","skuPrice","changeSkuNum","skuNum","showDialogByOneInfo","skuId","checkAll","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$v","$$i","concat","slice","showDialogBySelectd","selectedCount","selecteMoney","scopedSlots","_u","fn","proxy","deleteShopCart","staticStyle","isDelOne","components","Dialog","data","skuIdList","leaveCartInfoList","timeId","num","console","e","computed","get","item","alert","watch","immediate","handler","document","skuNumReg","phoneNumderReg","codeNumberReg","passWordNumberReg"],"sourceRoot":""}