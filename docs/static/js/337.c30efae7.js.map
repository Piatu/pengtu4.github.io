{"version":3,"file":"static/js/337.c30efae7.js","mappings":"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","sources":["webpack://three/./src/pages/Search/index.vue","webpack://three/./src/pages/Search/SearchSelector/index.vue","webpack://three/src/pages/Search/SearchSelector/index.vue","webpack://three/./src/pages/Search/SearchSelector/index.vue?8e88","webpack://three/./src/pages/Search/SearchSelector/index.vue?73ae","webpack://three/src/pages/Search/index.vue","webpack://three/./src/pages/Search/index.vue?ffcf","webpack://three/./src/pages/Search/index.vue?ce23"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"outer\"},[_c('TypeNav'),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"py-container\"},[_c('div',{staticClass:\"bread\"},[_vm._m(0),_c('ul',{staticClass:\"fl sui-tag\"},[_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchParams.categoryName),expression:\"searchParams.categoryName\"}],staticClass:\"with-x\"},[_vm._v(_vm._s(_vm.searchParams.categoryName)+\" \"),_c('i',{on:{\"click\":_vm.removeCategoryName}},[_vm._v(\"×\")])]),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.trademarkName),expression:\"trademarkName\"}],staticClass:\"with-x\"},[_vm._v(_vm._s(_vm.trademarkName)+\" \"),_c('i',{on:{\"click\":_vm.removeTrademark}},[_vm._v(\"×\")])]),_vm._l((_vm.searchParams.props),function(prop,index){return _c('li',{key:prop,staticClass:\"with-x\"},[_vm._v(\" \"+_vm._s(prop)+\" \"),_c('i',{on:{\"click\":function($event){return _vm.removeProp(index)}}},[_vm._v(\"×\")])])}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchParams.keyword),expression:\"searchParams.keyword\"}],staticClass:\"with-x\"},[_vm._v(_vm._s(_vm.searchParams.keyword)+\" \"),_c('i',{on:{\"click\":_vm.removeKeyword}},[_vm._v(\"×\")])])],2)]),_c('SearchSelector',{on:{\"get-trademark\":_vm.saveTrademark,\"get-attr\":_vm.saveAtrrVaule}}),_c('div',{staticClass:\"details clearfix\"},[_c('div',{staticClass:\"sui-navbar\"},[_c('div',{staticClass:\"navbar-inner filter\"},[_c('ul',{staticClass:\"sui-nav\"},[_c('li',{class:{active:!_vm.isPrice},on:{\"click\":function($event){return _vm.changeOrder(1)}}},[_c('a',[_vm._v(\"综合\"),_c('span',{staticClass:\"iconfont\",class:{'icon-shangfan':_vm.isUp,'icon-xiafan':!_vm.isUp}})])]),_c('li',{class:{active:_vm.isPrice},on:{\"click\":function($event){return _vm.changeOrder(2)}}},[_c('a',[_vm._v(\"价格\"),_c('span',{staticClass:\"iconfont\",class:{'icon-shangfan':_vm.isUp,'icon-xiafan':!_vm.isUp}})])])])])]),_c('div',{staticClass:\"goods-list\"},[_c('ul',{staticClass:\"yui3-g\"},_vm._l((_vm.goodsList),function(good){return _c('li',{key:good.id,staticClass:\"yui3-u-1-5\"},[_c('div',{staticClass:\"list-wrap\"},[_c('div',{staticClass:\"p-img\"},[_c('router-link',{attrs:{\"to\":`/detail/${good.id}`}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(good.defaultImg),expression:\"good.defaultImg\"}]})])],1),_c('div',{staticClass:\"price\"},[_c('strong',[_c('em',[_vm._v(\"¥\")]),_c('i',[_vm._v(_vm._s(good.price))])])]),_c('div',{staticClass:\"attr\"},[_c('router-link',{attrs:{\"to\":`/detail/${good.id}`,\"title\":good.title}},[_vm._v(_vm._s(good.title))])],1),_vm._m(1,true),_vm._m(2,true)])])}),0)]),_c('Pagination',{attrs:{\"total\":_vm.total,\"pageSize\":_vm.searchParams.pageSize,\"continues\":5,\"pageNo\":_vm.searchParams.pageNo,\"changePageNo\":_vm.getPageNo}})],1)],1)])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('ul',{staticClass:\"fl sui-breadcrumb\"},[_c('li',[_c('span',{attrs:{\"href\":\"#\"}},[_vm._v(\"全部结果\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"commit\"},[_c('i',{staticClass:\"command\"},[_vm._v(\"已有\"),_c('span',[_vm._v(\"2000\")]),_vm._v(\"人评价\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"operate\"},[_c('a',{staticClass:\"sui-btn btn-bordered btn-danger\",attrs:{\"href\":\"success-cart.html\",\"target\":\"_blank\"}},[_vm._v(\"加入购物车\")]),_c('a',{staticClass:\"sui-btn btn-bordered\",attrs:{\"href\":\"javascript:void(0);\"}},[_vm._v(\"收藏\")])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"clearfix selector\"},[_c('div',{staticClass:\"type-wrap logo\"},[_c('div',{staticClass:\"fl key brand\"},[_vm._v(\"品牌\")]),_c('div',{staticClass:\"value logos\"},[_c('ul',{staticClass:\"logo-list\"},_vm._l((_vm.trademakList),function(trademark){return _c('li',{key:trademark.tmId,on:{\"click\":function($event){return _vm.handleTrademark(trademark)}}},[_vm._v(_vm._s(trademark.tmName))])}),0)])]),_vm._l((_vm.attrsList),function(attr){return _c('div',{key:attr.attrId,staticClass:\"type-wrap\"},[_c('div',{staticClass:\"fl key\"},[_vm._v(_vm._s(attr.attrName))]),_c('div',{staticClass:\"fl value\"},[_c('ul',{staticClass:\"type-list\"},_vm._l((attr.attrValueList),function(attrValue){return _c('li',{key:attrValue},[_c('a',{on:{\"click\":function($event){return _vm.handleAttr(attr,attrValue)}}},[_vm._v(_vm._s(attrValue))])])}),0)])])})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <!--搜索选择器-->\r\n  <div class=\"clearfix selector\">\r\n    <div class=\"type-wrap logo\">\r\n      <div class=\"fl key brand\">品牌</div>\r\n      <div class=\"value logos\">\r\n        <ul class=\"logo-list\">\r\n          <!-- 遍历了品牌的图标，且给它增加一个点击事件给它点击能搜索商品事件中给它品牌数据为参让它知道点击当前的哪一个品牌的标签传了id与品牌名对应搜索 -->\r\n          <li v-for=\"trademark in trademakList\" :key=\"trademark.tmId\" @click=\"handleTrademark(trademark)\">{{trademark.tmName}}</li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <div class=\"type-wrap\" v-for=\"attr in attrsList\" :key=\"attr.attrId\">\r\n      <div class=\"fl key\">{{attr.attrName}}</div>\r\n      <div class=\"fl value\">\r\n        <ul class=\"type-list\">\r\n          <li v-for=\"attrValue in attr.attrValueList\" :key=\"attrValue\">\r\n            <a @click=\"handleAttr(attr,attrValue)\">{{attrValue}}</a>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n//从vuex获取品牌数据\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'SearchSelector',\r\n  computed: {\r\n    //获取存在仓库中的数据\r\n    ...mapGetters('search', ['trademakList', 'attrsList'])\r\n  },\r\n  //增加方法点击的搜索品牌就会出来对应的商品\r\n  methods: {\r\n    //传递品牌数据给父组件\r\n    handleTrademark(trademark) {\r\n      this.$emit('get-trademark', trademark);\r\n    },\r\n    //传递详细数据\r\n   handleAttr(attr ,attrValue){\r\n    this.$emit('get-attr',attr,attrValue);\r\n   }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.selector {\r\n  border: 1px solid #ddd;\r\n  margin-bottom: 5px;\r\n  overflow: hidden;\r\n\r\n  .logo {\r\n    border-top: 0;\r\n    margin: 0;\r\n    position: relative;\r\n    overflow: hidden;\r\n\r\n    .key {\r\n      padding-bottom: 87px !important;\r\n    }\r\n  }\r\n\r\n  .type-wrap {\r\n    margin: 0;\r\n    position: relative;\r\n    border-top: 1px solid #ddd;\r\n    overflow: hidden;\r\n\r\n    .key {\r\n      width: 100px;\r\n      background: #f1f1f1;\r\n      line-height: 26px;\r\n      text-align: right;\r\n      padding: 10px 10px 0 15px;\r\n      float: left;\r\n    }\r\n\r\n    .value {\r\n      overflow: hidden;\r\n      padding: 10px 0 0 15px;\r\n      color: #333;\r\n      margin-left: 120px;\r\n      padding-right: 90px;\r\n\r\n      .logo-list {\r\n        li {\r\n          float: left;\r\n          border: 1px solid #e4e4e4;\r\n          margin: -1px -1px 0 0;\r\n          width: 105px;\r\n          height: 52px;\r\n          text-align: center;\r\n          line-height: 52px;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          font-weight: 700;\r\n          color: #e1251b;\r\n          font-style: italic;\r\n          font-size: 14px;\r\n\r\n          img {\r\n            max-width: 100%;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n      }\r\n\r\n      .type-list {\r\n        li {\r\n          float: left;\r\n          display: block;\r\n          margin-right: 30px;\r\n          line-height: 26px;\r\n\r\n          a {\r\n            text-decoration: none;\r\n            color: #666;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .ext {\r\n      position: absolute;\r\n      top: 10px;\r\n      right: 10px;\r\n\r\n      .sui-btn {\r\n        display: inline-block;\r\n        padding: 2px 14px;\r\n        box-sizing: border-box;\r\n        margin-bottom: 0;\r\n        font-size: 12px;\r\n        line-height: 18px;\r\n        text-align: center;\r\n        vertical-align: middle;\r\n        cursor: pointer;\r\n        padding: 0 10px;\r\n        background: #fff;\r\n        border: 1px solid #d5d5d5;\r\n      }\r\n\r\n      a {\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b84a5050&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=b84a5050&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b84a5050\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"outer\">\r\n    <!-- 三级分类导航 -->\r\n    <TypeNav />\r\n    <div class=\"main\">\r\n      <div class=\"py-container\">\r\n        <!--面包屑导航-->\r\n        <div class=\"bread\">\r\n          <ul class=\"fl sui-breadcrumb\">\r\n            <li>\r\n              <span href=\"#\">全部结果</span>\r\n            </li>\r\n          </ul>\r\n          <ul class=\"fl sui-tag\">\r\n            <!-- 左侧导航的面包屑 -->\r\n            <li class=\"with-x\" v-show=\"searchParams.categoryName\">{{searchParams.categoryName}}\r\n              <!-- 面包屑小叉叉增加点击删除的事件 -->\r\n              <i @click=\"removeCategoryName\">×</i>\r\n            </li>\r\n            <!-- 品牌面包屑 -->\r\n            <li class=\"with-x\" v-show=\"trademarkName\">{{trademarkName}}\r\n              <i @click=\"removeTrademark\">×</i>\r\n            </li>\r\n            <!-- 详情面包屑如内存等等 -->\r\n            <li class=\"with-x\" v-for=\"(prop,index) in searchParams.props\" :key=\"prop\">\r\n              {{prop}}\r\n              <!-- 根据下标移除 -->\r\n              <i @click=\"removeProp(index)\">×</i>\r\n            </li>\r\n            <!-- 在搜索框内搜索点击跳转增加面包屑 -->\r\n            <li class=\"with-x\" v-show=\"searchParams.keyword\">{{searchParams.keyword}}\r\n              <!-- 给搜索关键字叉叉加事件 -->\r\n              <i @click=\"removeKeyword\">×</i>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n        <!-- 搜索器 -->\r\n        <!-- 给搜索页面组件增加自定义事件，给它写上对应的方法来接受搜索页面传递的参数并发请求以获取单击搜索出现对应的商品 -->\r\n        <SearchSelector @get-trademark='saveTrademark' @get-attr=\"saveAtrrVaule\" />\r\n\r\n        <!--商品展示区-->\r\n        <div class=\"details clearfix\">\r\n          <!-- 列表操作区 -->\r\n          <div class=\"sui-navbar\">\r\n            <div class=\"navbar-inner filter\">\r\n              <ul class=\"sui-nav\">\r\n                <!-- 判断是否高亮 -->\r\n                <!-- 当它默认为1综合要高亮，所以isPrice不为2为false在active那取反为true -->\r\n                 <li :class=\"{active:!isPrice}\" @click=\"changeOrder(1)\">\r\n                  <!-- 当默认值传递的为asc就为下箭头，否则dec的为下箭头 -->\r\n                  <a>综合<span class=\"iconfont\":class=\"{'icon-shangfan':isUp,'icon-xiafan':!isUp}\"></span></a>\r\n                </li>\r\n                <!-- 价格为不取反 -->\r\n                  <li :class=\"{active:isPrice}\" @click=\"changeOrder(2)\">\r\n                  <a>价格<span class=\"iconfont\":class=\"{'icon-shangfan':isUp,'icon-xiafan':!isUp}\"></span></a>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <!-- 商品列表 -->\r\n          <div class=\"goods-list\">\r\n            <ul class=\"yui3-g\">\r\n              <li class=\"yui3-u-1-5\" v-for=\"good in goodsList\" :key=\"good.id\">\r\n                <div class=\"list-wrap\">\r\n                  <div class=\"p-img\">\r\n                    <!-- 此时路由跳转，给它了/detail和它的id也拼接上了因为每个图片都有id通过good.id去出来传过去 -->\r\n                    <router-link :to=\"`/detail/${good.id}`\">\r\n                      <img v-lazy=\"good.defaultImg\" /></router-link>\r\n                  </div>\r\n                  <div class=\"price\">\r\n                    <strong>\r\n                      <em>¥</em>\r\n                      <i>{{good.price}}</i>\r\n                    </strong>\r\n                  </div>\r\n                  <div class=\"attr\">\r\n                    <router-link :to=\"`/detail/${good.id}`\" :title=\"good.title\">{{good.title}}</router-link>\r\n                  </div>\r\n                  <div class=\"commit\">\r\n                    <i class=\"command\">已有<span>2000</span>人评价</i>\r\n                  </div>\r\n                  <div class=\"operate\">\r\n                    <a href=\"success-cart.html\" target=\"_blank\" class=\"sui-btn btn-bordered btn-danger\">加入购物车</a>\r\n                    <a href=\"javascript:void(0);\" class=\"sui-btn btn-bordered\">收藏</a>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <!-- 分页器 -->\r\n          <!-- 直接在组件绑数据和传递 -->\r\n          <Pagination :total=\"total\" :pageSize=\"searchParams.pageSize\" :continues=\"5\" :pageNo=\"searchParams.pageNo\" :changePageNo=\"getPageNo\"></Pagination>\r\n          <!-- <div class=\"fr page\"> -->\r\n          <!-- <div class=\"sui-pagination clearfix\">\r\n              <ul>\r\n                <li class=\"prev disabled\">\r\n                  <a href=\"#\">«上一页</a>\r\n                </li>\r\n                <li class=\"active\">\r\n                  <a href=\"#\">1</a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#\">2</a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#\">3</a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#\">4</a>\r\n                </li>\r\n                <li>\r\n                  <a href=\"#\">5</a>\r\n                </li>\r\n                <li class=\"dotted\"><span>...</span></li>\r\n                <li class=\"next\">\r\n                  <a href=\"#\">下一页»</a>\r\n                </li>\r\n              </ul>\r\n              <div><span>共10页&nbsp;</span></div> -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchSelector from './SearchSelector';\r\nimport { mapActions, mapGetters } from 'vuex';\r\nimport './fontlcon/iconfont.css';\r\nexport default {\r\n  name: 'Search',\r\n  components: {\r\n    SearchSelector\r\n  },\r\n  data() {\r\n    return {\r\n      searchParams: {\r\n        category1Id: '', //一级分类id\r\n        category2Id: '', //二级分类的id\r\n        category3Id: '', //三级分类id\r\n        categoryName: '', //分类的名称\r\n        keyword: '', //关键词\r\n        props: [], //商品属性\r\n        //必需要给品牌初始占位\r\n        trademark: '', //商品品牌\r\n        order: '1:asc', //排序规则  1是代表综合，2代表价格，此时给一个默认值为1为综合，asc为升序，dec为降序，这些标准都是后端给的文档规定的\r\n        pageNo: 1, //页码\r\n        pageSize: 10 //每页的数量显示\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      immediate: true,\r\n      handler(newValue) {\r\n        //  1. 先将原来的那些categoryId设置为undefined 因为路由对象会忽略值为undefined的参数\r\n        Object.assign(this.searchParams, {\r\n          category1Id: undefined,\r\n          category2Id: undefined,\r\n          category3Id: undefined,\r\n          categoryName: undefined,\r\n          keyword: undefined\r\n        });\r\n        //2.接受传递过来的参数\r\n        let { query, params } = newValue;\r\n        //3.重新处理一下参数\r\n        Object.assign(this.searchParams, query, params);\r\n        //4.调ajax请求\r\n        this.$store.dispatch('search/getSearchListData', this.searchParams);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('search', ['goodsList', 'total']),\r\n    //因为trademark中有id去掉它就留名存入 trademarkName,.split(':')[1]截取到：留下第2项\r\n    trademarkName() {\r\n      const { trademark } = this.searchParams;\r\n      // 当从主页面进入是品牌为点击为空所以要做判断让它为空\r\n      return trademark ? trademark.split(':')[1] : '';\r\n    },\r\n    //详情面包屑名\r\n    props() {\r\n      this.searchParams.props.map(item => {\r\n        const [id, attrName, attrValue] = item.split(':');\r\n        return `${attrName}:${attrValue}`;\r\n      });\r\n    },\r\n    //判断是价格亮还是综合亮\r\n    isPrice() {\r\n      return this.searchParams.order.split(\":\")[0]==='2';\r\n    },\r\n    //判断箭头是朝上还是下\r\n    isUp(){\r\n      return this.searchParams.order.split(\":\")[1]===\"asc\"\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions('search', ['getSearchListData']),\r\n    //移除的是左导航的面包屑叉叉\r\n    removeCategoryName() {\r\n      //单击了删除按钮后后台走的逻辑\r\n      //keyword的这是留下了关键字\r\n      const { keyword } = this.$route.params;\r\n      //路由变了自动发请求\r\n      this.$router.push({\r\n        name: 'search',\r\n        params: { keyword }\r\n      });\r\n    },\r\n    //移除关键字\r\n    removeKeyword() {\r\n      //留下左导航的\r\n      const { query } = this.$route;\r\n      this.$router.push({\r\n        name: 'search',\r\n        query: {\r\n          ...query,\r\n          keyword: undefined\r\n        }\r\n      });\r\n      //触发事件清空文本框\r\n      this.$bus.$emit('remove-keyword');\r\n    },\r\n    //保存searchSelector传递过来的trademark\r\n    saveTrademark(trademark) {\r\n      //结构赋值\r\n      const { tmId, tmName } = trademark;\r\n      //反引后的传品牌id与名时接口文档定义的\r\n      this.searchParams.trademark = `${tmId}:${tmName}`;\r\n      //第一种调用，必需要用辅助函数映射后在调，因为搜索后获取了商品信息所以要重新发送信息\r\n      this.getSearchListData(this.searchParams);\r\n      //第二中调用\r\n      // this.$store.dispatch('search/getSearchListData', this.searchParams);\r\n    },\r\n    //移除面包屑品牌名称\r\n    removeTrademark(trademark) {\r\n      this.searchParams.trademark = undefined;\r\n      this.getSearchListData(this.searchParams);\r\n    },\r\n    //添加详细属性参数\r\n    saveAtrrVaule(attr, attrValue) {\r\n      const { props } = this.searchParams;\r\n      const prop = `${attr.attrName}\r\n      :${attrValue}`;\r\n      if (!props.includes(prop)) {\r\n        props.push(prop);\r\n        this.getSearchListData(this.searchParams);\r\n      }\r\n    },\r\n    //移除面包屑详细数据\r\n    removeProp(index) {\r\n      //到searchparam中删除一项\r\n      this.searchParams.props.splice(index, 1);\r\n      this.getSearchListData(this.searchParams);\r\n    },\r\n    //点击页码获取新数据\r\n    getPageNo(pageNo) {\r\n      //将传递过来的页码值，重新赋值给searchParams.pageNo\r\n      this.searchParams.pageNo = pageNo;\r\n      //根据新页码重新发送ajax请求\r\n      this.getSearchListData(this.searchParams);\r\n    },\r\n    //点击changeOrder让它传递你给定的综合与价格中的1或2就知道你点击的是那个按钮,让它高亮\r\n    changeOrder(newNum){\r\n      //当单击对应项的时候，其实相当于有两件事情需要解决\r\n      //1.判断当前项是否高亮，如果有则变换升序或者降序\r\n      //2.如果当前项没有高亮，则要有高亮\r\n     //将获取点击传入的值，用：分割存入oldNum，oldType\r\n     const[oldNum,oldType]=this.searchParams.order.split(\":\")\r\n     //判断传入的值oldNum与点击接受的值newNum是否相同\r\n     //当传入的值与接受的值一样就代表点击的是同一个按钮是，只需要改变箭头的方向\r\n     if(newNum==oldNum){\r\n         this.searchParams.order=`${oldNum}:${oldType==='asc'?'desc':'asc'}`\r\n     }else{\r\n      //将新值拼接上同时也需要要将箭头的方向改变\r\n      this.searchParams.order=`${newNum}:'asc'`\r\n     }\r\n     //重新发送请求\r\n     this.getSearchListData(this.searchParams);\r\n    \r\n    }\r\n    \r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.main {\r\n  margin: 10px 0;\r\n\r\n  .py-container {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n\r\n    .bread {\r\n      margin-bottom: 5px;\r\n      overflow: hidden;\r\n\r\n      .sui-breadcrumb {\r\n        padding: 3px 15px;\r\n        margin: 0;\r\n        font-weight: 400;\r\n        border-radius: 3px;\r\n        float: left;\r\n\r\n        li {\r\n          display: inline-block;\r\n          line-height: 18px;\r\n\r\n          a {\r\n            color: #666;\r\n            text-decoration: none;\r\n\r\n            &:hover {\r\n              color: #4cb9fc;\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .sui-tag {\r\n        margin-top: -5px;\r\n        list-style: none;\r\n        font-size: 0;\r\n        line-height: 0;\r\n        padding: 5px 0 0;\r\n        margin-bottom: 18px;\r\n        float: left;\r\n\r\n        .with-x {\r\n          font-size: 12px;\r\n          margin: 0 5px 5px 0;\r\n          display: inline-block;\r\n          overflow: hidden;\r\n          color: #000;\r\n          background: #f7f7f7;\r\n          padding: 0 7px;\r\n          height: 20px;\r\n          line-height: 20px;\r\n          border: 1px solid #dedede;\r\n          white-space: nowrap;\r\n          transition: color 400ms;\r\n          cursor: pointer;\r\n\r\n          i {\r\n            margin-left: 10px;\r\n            cursor: pointer;\r\n            font: 400 14px tahoma;\r\n            display: inline-block;\r\n            height: 100%;\r\n            vertical-align: middle;\r\n          }\r\n\r\n          &:hover {\r\n            color: #28a3ef;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .details {\r\n      margin-bottom: 5px;\r\n\r\n      .sui-navbar {\r\n        overflow: visible;\r\n        margin-bottom: 0;\r\n\r\n        .filter {\r\n          min-height: 40px;\r\n          padding-right: 20px;\r\n          background: #fbfbfb;\r\n          border: 1px solid #e2e2e2;\r\n          padding-left: 0;\r\n          border-radius: 0;\r\n          box-shadow: 0 1px 4px rgba(0, 0, 0, 0.065);\r\n\r\n          .sui-nav {\r\n            position: relative;\r\n            left: 0;\r\n            display: block;\r\n            float: left;\r\n            margin: 0 10px 0 0;\r\n\r\n            li {\r\n              float: left;\r\n              line-height: 18px;\r\n\r\n              a {\r\n                display: block;\r\n                cursor: pointer;\r\n                padding: 11px 15px;\r\n                color: #777;\r\n                text-decoration: none;\r\n              }\r\n\r\n              &.active {\r\n                a {\r\n                  background: #e1251b;\r\n                  color: #fff;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .goods-list {\r\n        margin: 20px 0;\r\n\r\n        ul {\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n\r\n          li {\r\n            height: 100%;\r\n            width: 20%;\r\n            margin-top: 10px;\r\n            line-height: 28px;\r\n\r\n            .list-wrap {\r\n              .p-img {\r\n                padding-left: 15px;\r\n                width: 215px;\r\n                height: 255px;\r\n\r\n                a {\r\n                  color: #666;\r\n\r\n                  img {\r\n                    max-width: 100%;\r\n                    height: auto;\r\n                    vertical-align: middle;\r\n                  }\r\n                }\r\n              }\r\n\r\n              .price {\r\n                padding-left: 15px;\r\n                font-size: 18px;\r\n                color: #c81623;\r\n\r\n                strong {\r\n                  font-weight: 700;\r\n\r\n                  i {\r\n                    margin-left: -5px;\r\n                  }\r\n                }\r\n              }\r\n\r\n              .attr {\r\n                padding-left: 15px;\r\n                width: 85%;\r\n                overflow: hidden;\r\n                margin-bottom: 8px;\r\n                min-height: 38px;\r\n                cursor: pointer;\r\n                line-height: 1.8;\r\n                display: -webkit-box;\r\n                -webkit-box-orient: vertical;\r\n                -webkit-line-clamp: 2;\r\n\r\n                a {\r\n                  color: #333;\r\n                  text-decoration: none;\r\n                }\r\n              }\r\n\r\n              .commit {\r\n                padding-left: 15px;\r\n                height: 22px;\r\n                font-size: 13px;\r\n                color: #a7a7a7;\r\n\r\n                span {\r\n                  font-weight: 700;\r\n                  color: #646fb0;\r\n                }\r\n              }\r\n\r\n              .operate {\r\n                padding: 12px 15px;\r\n\r\n                .sui-btn {\r\n                  display: inline-block;\r\n                  padding: 2px 14px;\r\n                  box-sizing: border-box;\r\n                  margin-bottom: 0;\r\n                  font-size: 12px;\r\n                  line-height: 18px;\r\n                  text-align: center;\r\n                  vertical-align: middle;\r\n                  cursor: pointer;\r\n                  border-radius: 0;\r\n                  background-color: transparent;\r\n                  margin-right: 15px;\r\n                }\r\n\r\n                .btn-bordered {\r\n                  min-width: 85px;\r\n                  background-color: transparent;\r\n                  border: 1px solid #8c8c8c;\r\n                  color: #8c8c8c;\r\n\r\n                  &:hover {\r\n                    border: 1px solid #666;\r\n                    color: #fff !important;\r\n                    background-color: #666;\r\n                    text-decoration: none;\r\n                  }\r\n                }\r\n\r\n                .btn-danger {\r\n                  border: 1px solid #e1251b;\r\n                  color: #e1251b;\r\n\r\n                  &:hover {\r\n                    border: 1px solid #e1251b;\r\n                    background-color: #e1251b;\r\n                    color: white !important;\r\n                    text-decoration: none;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .page {\r\n        width: 733px;\r\n        height: 66px;\r\n        overflow: hidden;\r\n        float: right;\r\n\r\n        .sui-pagination {\r\n          margin: 18px 0;\r\n\r\n          ul {\r\n            margin-left: 0;\r\n            margin-bottom: 0;\r\n            vertical-align: middle;\r\n            width: 490px;\r\n            float: left;\r\n\r\n            li {\r\n              line-height: 18px;\r\n              display: inline-block;\r\n\r\n              a {\r\n                position: relative;\r\n                float: left;\r\n                line-height: 18px;\r\n                text-decoration: none;\r\n                background-color: #fff;\r\n                border: 1px solid #e0e9ee;\r\n                margin-left: -1px;\r\n                font-size: 14px;\r\n                padding: 9px 18px;\r\n                color: #333;\r\n              }\r\n\r\n              &.active {\r\n                a {\r\n                  background-color: #fff;\r\n                  color: #e1251b;\r\n                  border-color: #fff;\r\n                  cursor: default;\r\n                }\r\n              }\r\n\r\n              &.prev {\r\n                a {\r\n                  background-color: #fafafa;\r\n                }\r\n              }\r\n\r\n              &.disabled {\r\n                a {\r\n                  color: #999;\r\n                  cursor: default;\r\n                }\r\n              }\r\n\r\n              &.dotted {\r\n                span {\r\n                  margin-left: -1px;\r\n                  position: relative;\r\n                  float: left;\r\n                  line-height: 18px;\r\n                  text-decoration: none;\r\n                  background-color: #fff;\r\n                  font-size: 14px;\r\n                  border: 0;\r\n                  padding: 9px 18px;\r\n                  color: #333;\r\n                }\r\n              }\r\n\r\n              &.next {\r\n                a {\r\n                  background-color: #fafafa;\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          div {\r\n            color: #333;\r\n            font-size: 14px;\r\n            float: right;\r\n            width: 241px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=ad0d9748&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=ad0d9748&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ad0d9748\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","directives","name","rawName","value","searchParams","categoryName","expression","_v","_s","on","removeCategoryName","trademarkName","removeTrademark","_l","props","prop","index","key","$event","removeProp","keyword","removeKeyword","saveTrademark","saveAtrrVaule","class","active","isPrice","changeOrder","isUp","goodsList","good","id","attrs","defaultImg","price","title","total","pageSize","pageNo","getPageNo","staticRenderFns","trademakList","trademark","tmId","handleTrademark","tmName","attrsList","attr","attrId","attrName","attrValueList","attrValue","handleAttr","computed","methods","component","components","SearchSelector","data","category1Id","category2Id","category3Id","order","watch","$route","immediate","handler","Object","query","params"],"sourceRoot":""}